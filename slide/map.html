<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<title>Display a map with a custom style</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.1/mapbox-gl.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.1/mapbox-gl.css' rel='stylesheet' />
<style>
body { margin:0; padding:0; }
#map { position:absolute; top:0; bottom:0; width:100%; }
</style>
</head>
<body>

<div id='map'></div>
<script>
mapboxgl.accessToken = '';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/dark-v10',
    center: [2.327673,48.854178],
    zoom: 14,
    pitch: 60,
});

map.on('load', function () {

	map.addLayer({
		"id": "carreaux_raw_men",
		"type": "fill-extrusion",
		"source": {
			"type": "vector",
			"tiles": ["http://localhost:8001/carreaux_raw_men/{z}/{x}/{y}?srid=2154"],
			"minzoom": 6,
			"maxzoom": 21
		},
		'paint': {
			'fill-extrusion-color': [
				"interpolate",
				["linear"],
				["get", "value"],
				0,
				"#383CFF",
				1000,
				"#F726BB"
			],
			'fill-extrusion-height': ["get", "value"],
			'fill-extrusion-opacity': .6
		},
		"source-layer": "carreaux_raw_men",
	});

	map.addLayer({
		"id": "home",
		"type": "circle",
		"source": {
			"type": "geojson",
			"data": {
				"type": "FeatureCollection",
				"features": [{
				"type": "Feature",
					"geometry": {
					"type": "Point",
					"coordinates": [2.336275,48.872311]
					}
				}]
			}
		},
		'paint': {
			'circle-radius': {
				'base': 8,
				'stops': [[12, 8], [22, 400]]
			},
			'circle-color': 'red',
		}
	});
});
</script>
</body>
</html>
